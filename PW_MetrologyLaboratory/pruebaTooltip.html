<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Input con Tooltip</title>
    <!-- Enlace de iconos: icons8, licencia con mención -->
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://arketipo.mx/Produccion/ML/PW_MetrologyLaboratory/css/form.css">
    <link rel="stylesheet" href="https://arketipo.mx/Produccion/ML/PW_MetrologyLaboratory/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Archivos de jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!-- Tippy.js core styles -->
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">

    <style>

        /*Ubica el logo de ? dentro del input*/
        #tooltipModelo, #tooltipCliente, #tooltipObs,#tooltipNorma,#tooltipDocNorma,#tooltipTipPrueba,
        #tooltipDibujo, #tooltipCdad , #tooltipNumP, #tooltipPlataforma{
            position: absolute;
            right: 0.5rem;
            top: 10%;
            cursor: pointer;
            color: #aaa; /* Icon color */
            max-width: 1rem;
            padding-top: 0.4rem;
        }

        /*Colores tooltip*/
        .tippy-box[data-theme~='light'] {
            background-color: #005195;
            color: #f1f4f9;
            border: 2px solid rgba(130, 175, 215, 0.1);
        }

        /*arrow*/
        /* The border */
        .tippy-box[data-theme~='light'] > .tippy-svg-arrow > svg:first-child {
            fill: #1733a1;
        }

        /* The fill */
        .tippy-box[data-theme~='light'] > .tippy-svg-arrow > svg:last-child {
            fill: #1733a1;
        }

    </style>
</head>
<body>

<section id="request-form-section" class="form-content-wrap page-content">
    <div class=" container">
        <div class=" row">
            <div class="tab-content">
                <div class="col-sm-12">
                    <div class="item-wrap">
                        <div class="row">
                            <div class="col-md-12">
                                <form name="formNewRequest" action="" method="POST" enctype="multipart/form-data" id="formRequestLab" data-toggle="validator" class="popup-form">
                                    <div class="row" id="contenedorFormulario">
                                        <div class="form-group col-sm-12" id="divGenerales">
                                            <table class="table table-borderless" id="solicitudTitulo">
                                                <tr>
                                                    <td class="tdH6">
                                                        <h6>DATOS GENERALES</h6>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="" id="selectTipoPrueba">
                                            <label for="tipoPrueba">Tipo de Prueba*</label>
                                            <div class="form-group col-sm-6" >
                                                <select class="form-control" id="tipoPrueba" onchange="banderaTipoPrueba(); llenarCliente(1);" name="tiposPrueba" title="TipoDePrueba" required data-error="Por favor seleccione un tipo de prueba válido.">
                                                    <option value="">Seleccione el tipo de prueba*</option>
                                                </select>
                                                <i class="far fa-question-circle position-absolute" id="tooltipTipPrueba"></i>
                                                <div class="input-group-icon"><i class="las la-ruler-combined"></i></div>
                                                <div class="invalid-feedback"></div>
                                            </div>
                                        </div>
                                        <div class="" id="normaNombre">
                                            <label for="norma">Norma*</label>
                                            <div class="form-group col-sm-6">
                                                <input type="text" class="form-control" id="norma" placeholder="Norma*" data-error="Por favor indique la norma.">
                                                <i class="far fa-question-circle position-absolute" id="tooltipDocNorma"></i>
                                                <div class="input-group-icon"><i class="las la-certificate"></i></div>
                                                <div class="invalid-feedback"></div>
                                            </div>
                                        </div>
                                        <div class="" id="normaArchivo">
                                            <label for="normaFile">Seleccione el Documento de la Norma</label>
                                            <div class="form-group col-sm-6">
                                                <input type="file" class="form-control" id="normaFile" name="normaFile" placeholder="Seleccione el documento de la norma" data-error="Por favor seleccione el archivo de la norma">
                                                <i class="far fa-question-circle position-absolute" id="tooltipNorma"></i>
                                                <div class="input-group-icon"><i class="las la-file-pdf"></i></div>
                                                <div class="invalid-feedback"></div>
                                            </div>
                                        </div>
                                        <div class="" id="detallesPrueba">
                                            <label for="especificaciones">Especificaciones de la prueba / Comentarios*</label>
                                            <div class="form-group col-sm-12">
                                                <textarea class="form-control" id="especificaciones" placeholder="Especificaciones de la prueba / Comentarios" required data-error="Por favor ingresa las especifícaciones de la prueba"></textarea>
                                                <i class="far fa-question-circle position-absolute" id="tooltipObs"></i>
                                                <div class="input-group-icon"><i class="las la-file-alt"></i></div>
                                                <div class="invalid-feedback"></div>
                                            </div>
                                        </div>
                                        <!-- Para agregar material por número de parte-->
                                        <div class="form-group col-sm-12" id="agregarNumParte">
                                            <table class="table table-borderless" id="materialesTitulo">
                                                <tr>
                                                    <td class="tdH6">
                                                        <h6>REGISTRO DE PIEZAS</h6>
                                                    </td>
                                                    <td class="tdButton">
                                                        <button type="button" id="addNumParte1"><i class="las la-plus-square"></i>Agregar pieza</button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="row row-cols-xl-2 clearfix" id="newRow1">
                                            <div class="col-xl-8">
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="" id="div-OEM1">
                                                            <label for="cliente1">Cliente (OEM)*</label>
                                                            <div class="form-group">
                                                                <select id="cliente1" name="clientes[]" class="form-control" onchange="llenarPlataforma(1)" required data-error="Por favor ingresa el area solicitante">
                                                                    <option value="">Seleccione el cliente (OEM)*</option>
                                                                </select>
                                                                <i class="far fa-question-circle position-absolute" id="tooltipCliente"></i>
                                                                <div class="input-group-icon"><i class="las la-car"></i></div>
                                                                <div class="invalid-feedback"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="" id="plataformaDiv1">
                                                            <label for="plataforma1">Plataforma*</label>
                                                            <div class="form-group">
                                                                <select id="plataforma1" name="plataformas[]" class="form-control" required data-error="Por favor ingresa la plataforma">
                                                                    <option value="">Seleccione la plataforma*</option>
                                                                </select>
                                                                <i class="far fa-question-circle position-absolute" id="tooltipPlataforma"></i>
                                                                <div class="input-group-icon"><i class="las la-warehouse"></i></div>
                                                                <div class="invalid-feedback"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="" id="divNumeroParte1">
                                                            <label for="numeroParte1">Número de parte*</label>
                                                            <div class="form-group">
                                                                <input id="numeroParte1" name="numeroParte1" type="text" class="form-control" placeholder="Número de Parte*" required data-error="Por favor ingresa el número de parte">
                                                                <i class="far fa-question-circle position-absolute" id="tooltipNumP"></i>
                                                                <div class="input-group-icon"><i class="las la-cubes"></i></div>
                                                                <div class="invalid-feedback"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="" id="cantidadMaterial1">
                                                            <label for="cdadMaterial1">Cantidad*</label>
                                                            <div class="form-group" >
                                                                <input id="cdadMaterial1" name="cdadMaterial1" type="number" class="form-control" placeholder="Cantidad*" required data-error="Por favor ingresa la cantidad">
                                                                <i class="far fa-question-circle position-absolute" id="tooltipCdad"></i>
                                                                <div class="input-group-icon"><i class="las la-cubes"></i></div>
                                                                <div class="invalid-feedback"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="" id="divDibujo1">
                                                            <label for="revDibujo1">Revisión de dibujo*</label>
                                                            <div class="form-group" >
                                                                <input id="revDibujo1" name="revDibujo1" type="text" maxlength="3" class="form-control" placeholder="Revisión de dibujo*" required data-error="Por favor ingresa la revisión de dibujo">
                                                                <i class="far fa-question-circle position-absolute" id="tooltipDibujo"></i>
                                                                <div class="input-group-icon"><i class="las la-cubes"></i></div>
                                                                <div class="invalid-feedback"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="" id="divModMate1">
                                                            <label for="modeloMate1">Mod. matemático*</label>
                                                            <div class="form-group" >
                                                                <input id="modeloMate1" name="modeloMate1" type="text" maxlength="3" class="form-control" placeholder="Mod. Matemático*" required data-error="Por favor ingresa el modelo matemático">
                                                                <i class="far fa-question-circle position-absolute" id="tooltipModelo"></i>
                                                                <div class="input-group-icon"><i class="las la-cubes"></i></div>
                                                                <div class="invalid-feedback"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group last col-sm-12 buttons" >
                                        <button type="button" id="submitRequest"  class="btn btn-custom" onclick="validarFormNewRequest()"><i class='las la-paper-plane'></i>Enviar</button>
                                        <button type="button" id="updateRequest"  class="btn btn-custom" onclick="validarFormNewRequest()"><i class="las la-save" ></i>Guardar</button>
                                        <button type="reset" id="reset" class="btn btn-custom"><i class="las la-undo-alt"></i> Restaurar </button>
                                    </div><!-- end form-group -->
                                    <div class="sub-text">*Campos requeridos</div>
                                    <div class="clearfix"></div>
                                </form>
                            </div>
                        </div>
                    </div><!-- end item-wrap -->
                </div><!--End col -->
            </div><!--End tab-content -->
        </div><!--End row -->
    </div><!--End container -->
</section>

<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<script>
    tippy('#tooltipDibujo', {
        trigger: 'click',
        animation: 'shift-away',
        theme: 'light',
        onShow(instance) {
            fetch('https://arketipo.mx/Produccion/ML/PW_MetrologyLaboratory/imgs/logoWhite.png')
                .then((response) => response.blob())
                .then((blob) => {
                    // Convert the blob into a URL
                    const url = URL.createObjectURL(blob);
                    // Create an image
                    const image = new Image();
                    image.width = 50;
                    image.height = 50;
                    image.style.display = 'block';
                    image.style.margin = '0 auto'; // Center the image
                    image.src = url;

                    // Create a container div
                    const container = document.createElement('div');
                    container.style.textAlign = 'center'; // Center align text
                    container.style.fontSize = '0.7rem'; // Smaller font size

                    // Add text before the image
                    const textBefore = document.createElement('p');
                    textBefore.textContent = 'Aquí va texto antes de la imagen';

                    container.appendChild(textBefore);

                    // Add the image to the container
                    container.appendChild(image);

                    // Add text after the image
                    const textAfter = document.createElement('p');
                    textAfter.textContent = 'Aquí va texto después de la imagen';
                    container.appendChild(textAfter);

                    // Update the tippy content with the container
                    instance.setContent(container);
                })
                .catch((error) => {
                    // Fallback if the network request failed
                    instance.setContent(`Request failed. ${error}`);
                });
        },
        arrow: true, // Enable arrow
    });

</script>
</body>
</html>
